<h2>Tasks</h2>
<div class="row">
    <div class="col-md-12">
        <section id="taskList">
            <div class="form-group">
                <button class="btn btn-md btn-info"
                        ng-click="addTask($event)">
                    Add New
                </button>
                <div class="pull-right">
                    <md-checkbox aria-label="Show Active"
                                 ng-checked="showingActive"
                                 ng-click="toggleShowActive()"
                                 class="md-primary">
                        Show Active
                    </md-checkbox>
                    <md-checkbox aria-label="Show Completed"
                                 ng-checked="showingCompleted"
                                 ng-click="toggleShowCompleted()"
                                 class="md-primary">
                        Show Completed
                    </md-checkbox>
                </div>
            </div>
            <div class="table-responsive">
                <table class="table table-bordered table-hover">
                    <thead>
                        <tr>
                            <th>
                                <md-checkbox aria-label="Select All"
                                             ng-checked="isChecked()"
                                             md-indeterminate="isIndeterminate()"
                                             ng-click="toggleAll()">
                                    <span ng-if="isChecked()">Unselect All</span>
                                    <span ng-if="!isChecked()">Select All</span>
                                </md-checkbox>
                            </th>
                            <th>Description</th>
                            <th>Completed</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="task in filteredTasks"
                            ng-class="{'completed': task.IsCompleted}">
                            <td>
                                <md-checkbox aria-label="Select"
                                             ng-checked="exists(task, selected)"
                                             ng-click="toggle(task, selected)">
                                </md-checkbox>
                            </td>
                            <td>
                                {{task.Description}}
                            </td>
                            <td>
                                <md-checkbox aria-label="Completed"
                                             ng-model="task.IsCompleted"
                                             ng-change="isCompletedChanged(task)"
                                             class="green">
                                </md-checkbox>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="form-group">
                <button class="btn btn-md btn-danger"
                        ng-click="deleteTasks($event)"
                        ng-disabled="selected.length == 0">
                    Delete Selected
                </button>
                <div class="pull-right">
                    {{activeTaskCount}}&nbsp;Active Task{{activeTaskCount != 1 ? "s" : ""}}
                </div>
            </div>
        </section>
    </div>
</div>
